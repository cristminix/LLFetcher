"use strict";(()=>{var qn=Object.create;var Jt=Object.defineProperty;var Un=Object.getOwnPropertyDescriptor;var Mn=Object.getOwnPropertyNames;var kn=Object.getPrototypeOf,Vn=Object.prototype.hasOwnProperty;var zn=(e,t,r)=>t in e?Jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Hn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Wn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Mn(t))!Vn.call(e,s)&&s!==r&&Jt(e,s,{get:()=>t[s],enumerable:!(n=Un(t,s))||n.enumerable});return e};var Jn=(e,t,r)=>(r=e!=null?qn(kn(e)):{},Wn(t||!e||!e.__esModule?Jt(r,"default",{value:e,enumerable:!0}):r,e));var _e=(e,t,r)=>(zn(e,typeof t!="symbol"?t+"":t,r),r);var Qe=Hn((Ni,Ke)=>{Ke.exports=typeof self=="object"?self.FormData:window.FormData});var st=class{db_prefix="db_";db_id;db_new;db;storage;constructor(t,r){this.db_id=this.db_prefix+t,this.db_new=!1;try{this.storage=chrome.storage[r==="local"?"local":"sync"]}catch{this.storage=r}this.sync(()=>{this.db&&this.db.tables&&this.db.data||(this.validateName(t)?(this.db={tables:{},data:{}},this.commit(),this.db_new=!0):error("The name '"+t+"' contains invalid characters"))})}sync(t){(async()=>{let r=await this.storage.get([this.db_id]);typeof r[this.db_id]<"u"&&(this.db=r[this.db_id]),typeof t=="function"&&t()})()}drop(){(async()=>await this.storage.remove([this.db_id]))(),this.db=null}getItem(t){try{return this.storage.get([t])}catch{return null}}replace(t){setItem(db_id,t)}setItem(t,r){try{return this.storage.set({key:r}).then(()=>{}),!0}catch{return!1}}tableCount(){var t=0;for(var r in this.db.tables)this.db.tables.hasOwnProperty(r)&&t++;return t}tableFields(t){return this.db.tables[t].fields}tableExists(t){return typeof this.db.tables[t]!="object"?!1:!!this.db.tables[t]}tableExistsWarn(t){this.tableExists(t)||this.error("The table '"+t+"' does not exist")}columnExists(t,r){var n=!1,s=this.db.tables[t].fields;for(var o in s)if(s[o]===r){n=!0;break}return n}_createTable(t,r){this.db.tables[t]={fields:r,auto_increment:1},this.db.data[t]={}}_dropTable(t){delete this.db.tables[t],delete this.db.data[t]}_truncate(t){this.db.tables[t].auto_increment=1,this.db.data[t]={}}_alterTable(t,r,n){if(this.db.tables[t].fields=this.db.tables[t].fields.concat(r),typeof n<"u"){for(var s in this.db.data[t])if(!!db.data[t].hasOwnProperty(s))for(var o in r)typeof n=="object"?this.db.data[t][s][r[o]]=n[r[o]]:this.db.data[t][s][r[o]]=n}}_rowCount(t){var r=0;for(var n in this.db.data[t])this.db.data[t].hasOwnProperty(n)&&r++;return r}_insert(t,r){return r.ID=this.db.tables[t].auto_increment,this.db.data[t][this.db.tables[t].auto_increment]=r,this.db.tables[t].auto_increment++,r.ID}select(t,r,n,s,o,i){var a=null,l=[],u=null,f;for(f=0;f<r.length;f++)a=r[f],u=this.db.data[t][a],l.push(this.clone(u));if(o&&o instanceof Array)for(f=0;f<o.length;f++)l.sort(this.sort_results(o[f][0],o[f].length>1?o[f][1]:null));if(i&&i instanceof Array){for(var d=0;d<i.length;d++){var v={},g=i[d];for(f=0;f<l.length;f++)l[f]!==void 0&&(l[f].hasOwnProperty(g)&&v.hasOwnProperty(l[f][g])?delete l[f]:v[l[f][g]]=1)}var h=[];for(f=0;f<l.length;f++)l[f]!==void 0&&h.push(l[f]);l=h}return n=n&&typeof n=="number"?n:null,s=s&&typeof s=="number"?s:null,n&&s?l=l.slice(n,n+s):n?l=l.slice(n):s&&(l=l.slice(n,s)),l}sort_results(t,r){return function(n,s){var o=typeof n[t]=="string"?n[t].toLowerCase():n[t],i=typeof s[t]=="string"?s[t].toLowerCase():s[t];return r==="DESC"?o===i?0:o<i?1:-1:o===i?0:o>i?1:-1}}queryByValues(t,r){var n=[],s=!1,o=null;for(var i in this.db.data[t])if(!!this.db.data[t].hasOwnProperty(i)){o=this.db.data[t][i],s=!0;for(var a in r)if(!!r.hasOwnProperty(a)){if(typeof r[a]=="string"){if(o[a]===null||o[a].toString().toLowerCase()!==r[a].toString().toLowerCase()){s=!1;break}}else if(o[a]!==r[a]){s=!1;break}}s&&n.push(i)}return n}queryByFunction(t,r){var n=[],s=!1,o=null;for(var i in this.db.data[t])!this.db.data[t].hasOwnProperty(i)||(o=this.db.data[t][i],r(this.clone(o))===!0&&n.push(i));return n}getIDs(t){var r=[];for(var n in this.db.data[t])this.db.data[t].hasOwnProperty(n)&&r.push(n);return r}_deleteRows(t,r){for(var n=0;n<r.length;n++)this.db.data[t].hasOwnProperty(r[n])&&delete this.db.data[t][r[n]];return r.length}_update(t,r,n){for(var s="",o=0,i=0;i<r.length;i++){s=r[i];var a=n(this.clone(this.db.data[t][s]));if(a){delete a.ID;var l=this.db.data[t][s];for(var u in a)a.hasOwnProperty(u)&&(l[u]=a[u]);this.db.data[t][s]=this.validFields(t,l),o++}}return o}commit(t){try{let r={};return r[this.db_id]=this.db,this.storage.set(r,n=>{typeof t=="function"&&t(n)}),!0}catch{return!1}}serialize(){return JSON.stringify(this.db)}error(t){throw new Error(t)}clone(t){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}validateName(t){return!t.toString().match(/[^a-z_0-9]/ig)}validFields(t,r){var n="",s={};for(n in r){var o=this.db.tables[t].fields.indexOf(n);o===-1&&error("Invalid query parameter: "+n),s[n]=r[n]}return s}validateData(t,r){for(var n="",s={},o=0;o<this.db.tables[t].fields.length;o++)n=this.db.tables[t].fields[o],s[n]=r[n]===null||r[n]===void 0?null:r[n];return s}isNew(t){return setTimeout(()=>{t(this.db_new)},100)}createTable(t,r){var n=!1;if(!this.validateName(t))error("The database name '"+t+"' contains invalid characters.");else if(this.tableExists(t))error("The table name '"+t+"' already exists.");else{var s=!0,o;for(o=0;o<r.length;o++)if(!this.validateName(r[o])){s=!1;break}if(s){var i={};for(o=0;o<r.length;o++)i[r[o]]=!0;delete i.ID,r=["ID"];for(var a in i)i.hasOwnProperty(a)&&r.push(a);this._createTable(t,r),n=!0}else error("One or more field names in the table definition contains invalid characters")}return n}createTableWithData(t,r){(typeof r!="object"||!r.length||r.length<1)&&error("Data supplied isn't in object form. Example: [{k:v,k:v},{k:v,k:v} ..]");var n=Object.keys(r[0]);if(this.createTable(t,n)){this.commit();for(var s=0;s<r.length;s++)insert(t,r[s])||error("Failed to insert record: ["+JSON.stringify(r[s])+"]");this.commit()}return!0}dropTable(t){this.tableExistsWarn(t),this._dropTable(t)}truncate(t){this.tableExistsWarn(t),this._truncate(t)}alterTable(t,r,n){var s=!1;if(!this.validateName(t))error("The database name '"+t+"' contains invalid characters");else if(typeof r=="object"){var o=!0,i;for(i=0;i<r.length;i++)if(!this.validateName(r[i])){o=!1;break}if(o){var a={};for(i=0;i<r.length;i++)a[r[i]]=!0;delete a.ID,r=[];for(var l in a)a.hasOwnProperty(l)&&r.push(l);this._alterTable(t,r,n),s=!0}else this.error("One or more field names in the table definition contains invalid characters")}else if(typeof r=="string")if(this.validateName(r)){var u=[];u.push(r),this._alterTable(t,u,n),s=!0}else this.error("One or more field names in the table definition contains invalid characters");return s}rowCount(t){return this.tableExistsWarn(t),this._rowCount(t)}insert(t,r){return this.tableExistsWarn(t),this._insert(t,this.validateData(t,r))}insertOrUpdate(t,r,n){this.tableExistsWarn(t);var s=[];if(r?typeof r=="object"?s=this.queryByValues(t,this.validFields(t,r)):typeof r=="function"&&(s=this.queryByFunction(t,r)):s=this.getIDs(t),s.length===0)return this._insert(t,this.validateData(t,n));var o=[];return this._update(t,s,function(i){return o.push(i.ID),n}),o}update(t,r,n){this.tableExistsWarn(t);var s=[];return r?typeof r=="object"?s=this.queryByValues(t,this.validFields(t,r)):typeof r=="function"&&(s=this.queryByFunction(t,r)):s=this.getIDs(t),this._update(t,s,n)}query(t,r,n,s,o,i){this.tableExistsWarn(t);var a=[];return r?typeof r=="object"?a=this.queryByValues(t,this.validFields(t,r),n,s):typeof r=="function"&&(a=this.queryByFunction(t,r,n,s)):a=this.getIDs(t,n,s),this.select(t,a,s,n,o,i)}queryAll(t,r){return r?this.query(t,r.hasOwnProperty("query")?r.query:null,r.hasOwnProperty("limit")?r.limit:null,r.hasOwnProperty("start")?r.start:null,r.hasOwnProperty("sort")?r.sort:null,r.hasOwnProperty("distinct")?r.distinct:null):this.query(t)}deleteRows(t,r){tableExistsWarn(t);var n=[];return r?typeof r=="object"?n=this.queryByValues(t,this.validFields(t,r)):typeof r=="function"&&(n=this.queryByFunction(t,r)):n=this.getIDs(t),this._deleteRows(t,n)}};function ot(e,t){return function(){return e.apply(t,arguments)}}var{toString:Ue}=Object.prototype,{getPrototypeOf:Kt}=Object,Qt=(e=>t=>{let r=Ue.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),L=e=>(e=e.toLowerCase(),t=>Qt(t)===e),Tt=e=>t=>typeof t===e,{isArray:X}=Array,it=Tt("undefined");function $n(e){return e!==null&&!it(e)&&e.constructor!==null&&!it(e.constructor)&&H(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var Me=L("ArrayBuffer");function Kn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Me(e.buffer),t}var Qn=Tt("string"),H=Tt("function"),ke=Tt("number"),Xt=e=>e!==null&&typeof e=="object",Xn=e=>e===!0||e===!1,Ct=e=>{if(Qt(e)!=="object")return!1;let t=Kt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Gn=L("Date"),Yn=L("File"),Zn=L("Blob"),jn=L("FileList"),ts=e=>Xt(e)&&H(e.pipe),es=e=>{let t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Ue.call(e)===t||H(e.toString)&&e.toString()===t)},rs=L("URLSearchParams"),ns=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function at(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),X(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{let o=r?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length,a;for(n=0;n<i;n++)a=o[n],t.call(null,e[a],a,e)}}function Ve(e,t){t=t.toLowerCase();let r=Object.keys(e),n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}var ze=typeof self>"u"?typeof global>"u"?void 0:global:self,He=e=>!it(e)&&e!==ze;function $t(){let{caseless:e}=He(this)&&this||{},t={},r=(n,s)=>{let o=e&&Ve(t,s)||s;Ct(t[o])&&Ct(n)?t[o]=$t(t[o],n):Ct(n)?t[o]=$t({},n):X(n)?t[o]=n.slice():t[o]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&at(arguments[n],r);return t}var ss=(e,t,r,{allOwnKeys:n}={})=>(at(t,(s,o)=>{r&&H(s)?e[o]=ot(s,r):e[o]=s},{allOwnKeys:n}),e),os=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),is=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},as=(e,t,r,n)=>{let s,o,i,a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!n||n(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=r!==!1&&Kt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},us=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return n!==-1&&n===r},ls=e=>{if(!e)return null;if(X(e))return e;let t=e.length;if(!ke(t))return null;let r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},cs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Kt(Uint8Array)),fs=(e,t)=>{let n=(e&&e[Symbol.iterator]).call(e),s;for(;(s=n.next())&&!s.done;){let o=s.value;t.call(e,o[0],o[1])}},ds=(e,t)=>{let r,n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},ps=L("HTMLFormElement"),hs=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),qe=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ms=L("RegExp"),We=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};at(r,(s,o)=>{t(s,o,e)!==!1&&(n[o]=s)}),Object.defineProperties(e,n)},gs=e=>{We(e,(t,r)=>{if(H(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=e[r];if(!!H(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ys=(e,t)=>{let r={},n=s=>{s.forEach(o=>{r[o]=!0})};return X(e)?n(e):n(String(e).split(t)),r},bs=()=>{},vs=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ws=e=>{let t=new Array(10),r=(n,s)=>{if(Xt(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;let o=X(n)?[]:{};return at(n,(i,a)=>{let l=r(i,s+1);!it(l)&&(o[a]=l)}),t[s]=void 0,o}}return n};return r(e,0)},c={isArray:X,isArrayBuffer:Me,isBuffer:$n,isFormData:es,isArrayBufferView:Kn,isString:Qn,isNumber:ke,isBoolean:Xn,isObject:Xt,isPlainObject:Ct,isUndefined:it,isDate:Gn,isFile:Yn,isBlob:Zn,isRegExp:ms,isFunction:H,isStream:ts,isURLSearchParams:rs,isTypedArray:cs,isFileList:jn,forEach:at,merge:$t,extend:ss,trim:ns,stripBOM:os,inherits:is,toFlatObject:as,kindOf:Qt,kindOfTest:L,endsWith:us,toArray:ls,forEachEntry:fs,matchAll:ds,isHTMLForm:ps,hasOwnProperty:qe,hasOwnProp:qe,reduceDescriptors:We,freezeMethods:gs,toObjectSet:ys,toCamelCase:hs,noop:bs,toFiniteNumber:vs,findKey:Ve,global:ze,isContextDefined:He,toJSONObject:ws};function G(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s)}c.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:c.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Je=G.prototype,$e={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$e[e]={value:e}});Object.defineProperties(G,$e);Object.defineProperty(Je,"isAxiosError",{value:!0});G.from=(e,t,r,n,s,o)=>{let i=Object.create(Je);return c.toFlatObject(e,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),G.call(i,e.message,t,r,n,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};var y=G;var Xe=Jn(Qe(),1),Ge=Xe.default;function Gt(e){return c.isPlainObject(e)||c.isArray(e)}function Ze(e){return c.endsWith(e,"[]")?e.slice(0,-2):e}function Ye(e,t,r){return e?e.concat(t).map(function(s,o){return s=Ze(s),!r&&o?"["+s+"]":s}).join(r?".":""):t}function Es(e){return c.isArray(e)&&!e.some(Gt)}var As=c.toFlatObject(c,{},null,function(t){return/^is[A-Z]/.test(t)});function Ss(e){return e&&c.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function Os(e,t,r){if(!c.isObject(e))throw new TypeError("target must be an object");t=t||new(Ge||FormData),r=c.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,N){return!c.isUndefined(N[m])});let n=r.metaTokens,s=r.visitor||f,o=r.dots,i=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Ss(t);if(!c.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(c.isDate(h))return h.toISOString();if(!l&&c.isBlob(h))throw new y("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(h)||c.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function f(h,m,N){let P=h;if(h&&!N&&typeof h=="object"){if(c.endsWith(m,"{}"))m=n?m:m.slice(0,-2),h=JSON.stringify(h);else if(c.isArray(h)&&Es(h)||c.isFileList(h)||c.endsWith(m,"[]")&&(P=c.toArray(h)))return m=Ze(m),P.forEach(function(Ft,_n){!(c.isUndefined(Ft)||Ft===null)&&t.append(i===!0?Ye([m],_n,o):i===null?m:m+"[]",u(Ft))}),!1}return Gt(h)?!0:(t.append(Ye(N,m,o),u(h)),!1)}let d=[],v=Object.assign(As,{defaultVisitor:f,convertValue:u,isVisitable:Gt});function g(h,m){if(!c.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(h),c.forEach(h,function(P,Q){(!(c.isUndefined(P)||P===null)&&s.call(t,P,c.isString(Q)?Q.trim():Q,m,v))===!0&&g(P,m?m.concat(Q):[Q])}),d.pop()}}if(!c.isObject(e))throw new TypeError("data must be an object");return g(e),t}var M=Os;function je(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function tr(e,t){this._pairs=[],e&&M(e,this,t)}var er=tr.prototype;er.append=function(t,r){this._pairs.push([t,r])};er.toString=function(t){let r=t?function(n){return t.call(this,n,je)}:je;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};var Rt=tr;function Ds(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ut(e,t,r){if(!t)return e;let n=r&&r.encode||Ds,s=r&&r.serialize,o;if(s?o=s(t,r):o=c.isURLSearchParams(t)?t.toString():new Rt(t,r).toString(n),o){let i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}var Yt=class{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){c.forEach(this.handlers,function(n){n!==null&&t(n)})}},Zt=Yt;var It={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var rr=typeof URLSearchParams<"u"?URLSearchParams:Rt;var nr=FormData;var xs=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Fs=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),S={isBrowser:!0,classes:{URLSearchParams:rr,FormData:nr,Blob},isStandardBrowserEnv:xs,isStandardBrowserWebWorkerEnv:Fs,protocols:["http","https","file","blob","url","data"]};function jt(e,t){return M(e,new S.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,o){return S.isNode&&c.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Cs(e){return c.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ts(e){let t={},r=Object.keys(e),n,s=r.length,o;for(n=0;n<s;n++)o=r[n],t[o]=e[o];return t}function Rs(e){function t(r,n,s,o){let i=r[o++],a=Number.isFinite(+i),l=o>=r.length;return i=!i&&c.isArray(s)?s.length:i,l?(c.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!a):((!s[i]||!c.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],o)&&c.isArray(s[i])&&(s[i]=Ts(s[i])),!a)}if(c.isFormData(e)&&c.isFunction(e.entries)){let r={};return c.forEachEntry(e,(n,s)=>{t(Cs(n),s,r,0)}),r}return null}var Nt=Rs;var Is={"Content-Type":void 0};function Ns(e,t,r){if(c.isString(e))try{return(t||JSON.parse)(e),c.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Pt={transitional:It,adapter:["xhr","http"],transformRequest:[function(t,r){let n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=c.isObject(t);if(o&&c.isHTMLForm(t)&&(t=new FormData(t)),c.isFormData(t))return s&&s?JSON.stringify(Nt(t)):t;if(c.isArrayBuffer(t)||c.isBuffer(t)||c.isStream(t)||c.isFile(t)||c.isBlob(t))return t;if(c.isArrayBufferView(t))return t.buffer;if(c.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return jt(t,this.formSerializer).toString();if((a=c.isFileList(t))||n.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return M(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),Ns(t)):t}],transformResponse:[function(t){let r=this.transitional||Pt.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(t&&c.isString(t)&&(n&&!this.responseType||s)){let i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(i)throw a.name==="SyntaxError"?y.from(a,y.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:S.classes.FormData,Blob:S.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};c.forEach(["delete","get","head"],function(t){Pt.headers[t]={}});c.forEach(["post","put","patch"],function(t){Pt.headers[t]=c.merge(Is)});var Y=Pt;var Ps=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sr=e=>{let t={},r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&Ps[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t};var or=Symbol("internals");function lt(e){return e&&String(e).trim().toLowerCase()}function Lt(e){return e===!1||e==null?e:c.isArray(e)?e.map(Lt):String(e)}function Ls(e){let t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}function Bs(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function ir(e,t,r,n){if(c.isFunction(n))return n.call(this,t,r);if(!!c.isString(t)){if(c.isString(n))return t.indexOf(n)!==-1;if(c.isRegExp(n))return n.test(t)}}function _s(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function qs(e,t){let r=c.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,o,i){return this[n].call(this,t,s,o,i)},configurable:!0})})}var Z=class{constructor(t){t&&this.set(t)}set(t,r,n){let s=this;function o(a,l,u){let f=lt(l);if(!f)throw new Error("header name must be a non-empty string");let d=c.findKey(s,f);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||l]=Lt(a))}let i=(a,l)=>c.forEach(a,(u,f)=>o(u,f,l));return c.isPlainObject(t)||t instanceof this.constructor?i(t,r):c.isString(t)&&(t=t.trim())&&!Bs(t)?i(sr(t),r):t!=null&&o(r,t,n),this}get(t,r){if(t=lt(t),t){let n=c.findKey(this,t);if(n){let s=this[n];if(!r)return s;if(r===!0)return Ls(s);if(c.isFunction(r))return r.call(this,s,n);if(c.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=lt(t),t){let n=c.findKey(this,t);return!!(n&&(!r||ir(this,this[n],n,r)))}return!1}delete(t,r){let n=this,s=!1;function o(i){if(i=lt(i),i){let a=c.findKey(n,i);a&&(!r||ir(n,n[a],a,r))&&(delete n[a],s=!0)}}return c.isArray(t)?t.forEach(o):o(t),s}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){let r=this,n={};return c.forEach(this,(s,o)=>{let i=c.findKey(n,o);if(i){r[i]=Lt(s),delete r[o];return}let a=t?_s(o):String(o).trim();a!==o&&delete r[o],r[a]=Lt(s),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let r=Object.create(null);return c.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&c.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){let n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){let n=(this[or]=this[or]={accessors:{}}).accessors,s=this.prototype;function o(i){let a=lt(i);n[a]||(qs(s,i),n[a]=!0)}return c.isArray(t)?t.forEach(o):o(t),this}};Z.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);c.freezeMethods(Z.prototype);c.freezeMethods(Z);var D=Z;function ct(e,t){let r=this||Y,n=t||r,s=D.from(n.headers),o=n.data;return c.forEach(e,function(a){o=a.call(r,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function ft(e){return!!(e&&e.__CANCEL__)}function ar(e,t,r){y.call(this,e??"canceled",y.ERR_CANCELED,t,r),this.name="CanceledError"}c.inherits(ar,y,{__CANCEL__:!0});var k=ar;var ur=null;function te(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new y("Request failed with status code "+r.status,[y.ERR_BAD_REQUEST,y.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var lr=S.isStandardBrowserEnv?function(){return{write:function(r,n,s,o,i,a){let l=[];l.push(r+"="+encodeURIComponent(n)),c.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),c.isString(o)&&l.push("path="+o),c.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){let n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ee(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function re(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function dt(e,t){return e&&!ee(t)?re(e,t):t}var cr=S.isStandardBrowserEnv?function(){let t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function s(o){let i=o;return t&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(i){let a=c.isString(i)?s(i):i;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function ne(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Us(e,t){e=e||10;let r=new Array(e),n=new Array(e),s=0,o=0,i;return t=t!==void 0?t:1e3,function(l){let u=Date.now(),f=n[o];i||(i=u),r[s]=l,n[s]=u;let d=o,v=0;for(;d!==s;)v+=r[d++],d=d%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;let g=f&&u-f;return g?Math.round(v*1e3/g):void 0}}var fr=Us;function dr(e,t){let r=0,n=fr(50,250);return s=>{let o=s.loaded,i=s.lengthComputable?s.total:void 0,a=o-r,l=n(a),u=o<=i;r=o;let f={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:l||void 0,estimated:l&&i&&u?(i-o)/l:void 0,event:s};f[t?"download":"upload"]=!0,e(f)}}var Ms=typeof XMLHttpRequest<"u",pr=Ms&&function(e){return new Promise(function(r,n){let s=e.data,o=D.from(e.headers).normalize(),i=e.responseType,a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}c.isFormData(s)&&(S.isStandardBrowserEnv||S.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let u=new XMLHttpRequest;if(e.auth){let g=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(g+":"+h))}let f=dt(e.baseURL,e.url);u.open(e.method.toUpperCase(),ut(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function d(){if(!u)return;let g=D.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),m={data:!i||i==="text"||i==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:g,config:e,request:u};te(function(P){r(P),l()},function(P){n(P),l()},m),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){!u||(n(new y("Request aborted",y.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new y("Network Error",y.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let h=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",m=e.transitional||It;e.timeoutErrorMessage&&(h=e.timeoutErrorMessage),n(new y(h,m.clarifyTimeoutError?y.ETIMEDOUT:y.ECONNABORTED,e,u)),u=null},S.isStandardBrowserEnv){let g=(e.withCredentials||cr(f))&&e.xsrfCookieName&&lr.read(e.xsrfCookieName);g&&o.set(e.xsrfHeaderName,g)}s===void 0&&o.setContentType(null),"setRequestHeader"in u&&c.forEach(o.toJSON(),function(h,m){u.setRequestHeader(m,h)}),c.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),i&&i!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",dr(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",dr(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=g=>{!u||(n(!g||g.type?new k(null,e,u):g),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));let v=ne(f);if(v&&S.protocols.indexOf(v)===-1){n(new y("Unsupported protocol "+v+":",y.ERR_BAD_REQUEST,e));return}u.send(s||null)})};var Bt={http:ur,xhr:pr};c.forEach(Bt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});var hr={getAdapter:e=>{e=c.isArray(e)?e:[e];let{length:t}=e,r,n;for(let s=0;s<t&&(r=e[s],!(n=c.isString(r)?Bt[r.toLowerCase()]:r));s++);if(!n)throw n===!1?new y(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(c.hasOwnProp(Bt,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!c.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Bt};function se(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new k(null,e)}function _t(e){return se(e),e.headers=D.from(e.headers),e.data=ct.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hr.getAdapter(e.adapter||Y.adapter)(e).then(function(n){return se(e),n.data=ct.call(e,e.transformResponse,n),n.headers=D.from(n.headers),n},function(n){return ft(n)||(se(e),n&&n.response&&(n.response.data=ct.call(e,e.transformResponse,n.response),n.response.headers=D.from(n.response.headers))),Promise.reject(n)})}var mr=e=>e instanceof D?e.toJSON():e;function B(e,t){t=t||{};let r={};function n(u,f,d){return c.isPlainObject(u)&&c.isPlainObject(f)?c.merge.call({caseless:d},u,f):c.isPlainObject(f)?c.merge({},f):c.isArray(f)?f.slice():f}function s(u,f,d){if(c.isUndefined(f)){if(!c.isUndefined(u))return n(void 0,u,d)}else return n(u,f,d)}function o(u,f){if(!c.isUndefined(f))return n(void 0,f)}function i(u,f){if(c.isUndefined(f)){if(!c.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function a(u,f,d){if(d in t)return n(u,f);if(d in e)return n(void 0,u)}let l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,f)=>s(mr(u),mr(f),!0)};return c.forEach(Object.keys(e).concat(Object.keys(t)),function(f){let d=l[f]||s,v=d(e[f],t[f],f);c.isUndefined(v)&&d!==a||(r[f]=v)}),r}var qt="1.2.1";var oe={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{oe[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var gr={};oe.transitional=function(t,r,n){function s(o,i){return"[Axios v"+qt+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,a)=>{if(t===!1)throw new y(s(i," has been removed"+(r?" in "+r:"")),y.ERR_DEPRECATED);return r&&!gr[i]&&(gr[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,i,a):!0}};function ks(e,t,r){if(typeof e!="object")throw new y("options must be an object",y.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),s=n.length;for(;s-- >0;){let o=n[s],i=t[o];if(i){let a=e[o],l=a===void 0||i(a,o,e);if(l!==!0)throw new y("option "+o+" must be "+l,y.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new y("Unknown option "+o,y.ERR_BAD_OPTION)}}var Ut={assertOptions:ks,validators:oe};var V=Ut.validators,j=class{constructor(t){this.defaults=t,this.interceptors={request:new Zt,response:new Zt}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=B(this.defaults,r);let{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&Ut.assertOptions(n,{silentJSONParsing:V.transitional(V.boolean),forcedJSONParsing:V.transitional(V.boolean),clarifyTimeoutError:V.transitional(V.boolean)},!1),s!==void 0&&Ut.assertOptions(s,{encode:V.function,serialize:V.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i;i=o&&c.merge(o.common,o[r.method]),i&&c.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),r.headers=D.concat(i,o);let a=[],l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});let u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let f,d=0,v;if(!l){let h=[_t.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,u),v=h.length,f=Promise.resolve(r);d<v;)f=f.then(h[d++],h[d++]);return f}v=a.length;let g=r;for(d=0;d<v;){let h=a[d++],m=a[d++];try{g=h(g)}catch(N){m.call(this,N);break}}try{f=_t.call(this,g)}catch(h){return Promise.reject(h)}for(d=0,v=u.length;d<v;)f=f.then(u[d++],u[d++]);return f}getUri(t){t=B(this.defaults,t);let r=dt(t.baseURL,t.url);return ut(r,t.params,t.paramsSerializer)}};c.forEach(["delete","get","head","options"],function(t){j.prototype[t]=function(r,n){return this.request(B(n||{},{method:t,url:r,data:(n||{}).data}))}});c.forEach(["post","put","patch"],function(t){function r(n){return function(o,i,a){return this.request(B(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}j.prototype[t]=r(),j.prototype[t+"Form"]=r(!0)});var pt=j;var ht=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});let n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o,i=new Promise(a=>{n.subscribe(a),o=a}).then(s);return i.cancel=function(){n.unsubscribe(o)},i},t(function(o,i,a){n.reason||(n.reason=new k(o,i,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new ht(function(s){t=s}),cancel:t}}},yr=ht;function ie(e){return function(r){return e.apply(null,r)}}function ae(e){return c.isObject(e)&&e.isAxiosError===!0}function br(e){let t=new pt(e),r=ot(pt.prototype.request,t);return c.extend(r,pt.prototype,t,{allOwnKeys:!0}),c.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return br(B(e,s))},r}var w=br(Y);w.Axios=pt;w.CanceledError=k;w.CancelToken=yr;w.isCancel=ft;w.VERSION=qt;w.toFormData=M;w.AxiosError=y;w.Cancel=w.CanceledError;w.all=function(t){return Promise.all(t)};w.spread=ie;w.isAxiosError=ae;w.mergeConfig=B;w.AxiosHeaders=D;w.formToJSON=e=>Nt(c.isHTMLForm(e)?new FormData(e):e);w.default=w;var tt=w;var{Axios:ju,AxiosError:tl,CanceledError:el,isCancel:rl,CancelToken:nl,VERSION:sl,all:ol,Cancel:il,isAxiosError:al,spread:ul,toFormData:ll,AxiosHeaders:cl,formToJSON:fl,mergeConfig:dl}=tt;var ue=class{static async create(t,r,n){let o={method:r,url:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*"}};if(r=="post"){var i=new FormData;for(let l in n)i.append(l,n[l]);o.headers["Content-Type"]="multipart/form-data",o.data=i}return await tt(o).then(l=>l).then(l=>l)}static get(t,r,n){tt({method:"get",url:t,headers:{"Access-Control-Allow-Origin":"*"}}).then(s=>{typeof r=="function"&&r(s.data)}).catch(s=>{typeof n=="function"&&n(s),console.log(s)})}static post(t,r,n,s,o){var i=new FormData;for(let a in r)i.append(a,r[a]);try{if(typeof o=="object")for(let a in o){let l=o[a];i.append(a,l)}}catch(a){console.log(a)}tt({method:"post",url:t,data:i,headers:{Accept:"application/json","Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}}).then(a=>{typeof n=="function"&&n(a.data)}).catch(a=>{typeof s=="function"&&s(a),console.log(a)})}},vr=ue;var Nr="1.13.6",wr=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Ht=Array.prototype,ve=Object.prototype,Er=typeof Symbol<"u"?Symbol.prototype:null,Vs=Ht.push,bt=Ht.slice,mt=ve.toString,zs=ve.hasOwnProperty,Pr=typeof ArrayBuffer<"u",Hs=typeof DataView<"u",Ws=Array.isArray,Ar=Object.keys,Sr=Object.create,Or=Pr&&ArrayBuffer.isView,Js=isNaN,$s=isFinite,Lr=!{toString:null}.propertyIsEnumerable("toString"),Dr=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ks=Math.pow(2,53)-1;function F(e,t){return t=t==null?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),s=0;s<r;s++)n[s]=arguments[s+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(s=0;s<t;s++)o[s]=arguments[s];return o[t]=n,e.apply(this,o)}}function J(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function Qs(e){return e===null}function Br(e){return e===void 0}function _r(e){return e===!0||e===!1||mt.call(e)==="[object Boolean]"}function Xs(e){return!!(e&&e.nodeType===1)}function O(e){var t="[object "+e+"]";return function(r){return mt.call(r)===t}}var we=O("String"),qr=O("Number"),Gs=O("Date"),Ys=O("RegExp"),Zs=O("Error"),Ur=O("Symbol"),Mr=O("ArrayBuffer"),kr=O("Function"),js=wr.document&&wr.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof js!="function"&&(kr=function(e){return typeof e=="function"||!1});var x=kr,Vr=O("Object"),zr=Hs&&Vr(new DataView(new ArrayBuffer(8))),Ee=typeof Map<"u"&&Vr(new Map),to=O("DataView");function eo(e){return e!=null&&x(e.getInt8)&&Mr(e.buffer)}var kt=zr?eo:to,$=Ws||O("Array");function z(e,t){return e!=null&&zs.call(e,t)}var de=O("Arguments");(function(){de(arguments)||(de=function(e){return z(e,"callee")})})();var Ae=de;function ro(e){return!Ur(e)&&$s(e)&&!isNaN(parseFloat(e))}function Hr(e){return qr(e)&&Js(e)}function Wr(e){return function(){return e}}function Jr(e){return function(t){var r=e(t);return typeof r=="number"&&r>=0&&r<=Ks}}function $r(e){return function(t){return t?.[e]}}var Vt=$r("byteLength"),no=Jr(Vt),so=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function oo(e){return Or?Or(e)&&!kt(e):no(e)&&so.test(mt.call(e))}var Kr=Pr?oo:Wr(!1),C=$r("length");function io(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(s){return t[s]===!0},push:function(s){return t[s]=!0,e.push(s)}}}function Qr(e,t){t=io(t);var r=Dr.length,n=e.constructor,s=x(n)&&n.prototype||ve,o="constructor";for(z(e,o)&&!t.contains(o)&&t.push(o);r--;)o=Dr[r],o in e&&e[o]!==s[o]&&!t.contains(o)&&t.push(o)}function E(e){if(!J(e))return[];if(Ar)return Ar(e);var t=[];for(var r in e)z(e,r)&&t.push(r);return Lr&&Qr(e,t),t}function ao(e){if(e==null)return!0;var t=C(e);return typeof t=="number"&&($(e)||we(e)||Ae(e))?t===0:C(E(e))===0}function Xr(e,t){var r=E(t),n=r.length;if(e==null)return!n;for(var s=Object(e),o=0;o<n;o++){var i=r[o];if(t[i]!==s[i]||!(i in s))return!1}return!0}function b(e){if(e instanceof b)return e;if(!(this instanceof b))return new b(e);this._wrapped=e}b.VERSION=Nr;b.prototype.value=function(){return this._wrapped};b.prototype.valueOf=b.prototype.toJSON=b.prototype.value;b.prototype.toString=function(){return String(this._wrapped)};function xr(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Vt(e))}var Fr="[object DataView]";function pe(e,t,r,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;return s!=="function"&&s!=="object"&&typeof t!="object"?!1:Gr(e,t,r,n)}function Gr(e,t,r,n){e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var s=mt.call(e);if(s!==mt.call(t))return!1;if(zr&&s=="[object Object]"&&kt(e)){if(!kt(t))return!1;s=Fr}switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return Er.valueOf.call(e)===Er.valueOf.call(t);case"[object ArrayBuffer]":case Fr:return Gr(xr(e),xr(t),r,n)}var o=s==="[object Array]";if(!o&&Kr(e)){var i=Vt(e);if(i!==Vt(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(x(a)&&a instanceof a&&x(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!pe(e[u],t[u],r,n))return!1}else{var f=E(e),d;if(u=f.length,E(t).length!==u)return!1;for(;u--;)if(d=f[u],!(z(t,d)&&pe(e[d],t[d],r,n)))return!1}return r.pop(),n.pop(),!0}function uo(e,t){return pe(e,t)}function vt(e){if(!J(e))return[];var t=[];for(var r in e)t.push(r);return Lr&&Qr(e,t),t}function Se(e){var t=C(e);return function(r){if(r==null)return!1;var n=vt(r);if(C(n))return!1;for(var s=0;s<t;s++)if(!x(r[e[s]]))return!1;return e!==jr||!x(r[Oe])}}var Oe="forEach",Yr="has",De=["clear","delete"],Zr=["get",Yr,"set"],lo=De.concat(Oe,Zr),jr=De.concat(Zr),co=["add"].concat(De,Oe,Yr),fo=Ee?Se(lo):O("Map"),po=Ee?Se(jr):O("WeakMap"),ho=Ee?Se(co):O("Set"),mo=O("WeakSet");function rt(e){for(var t=E(e),r=t.length,n=Array(r),s=0;s<r;s++)n[s]=e[t[s]];return n}function go(e){for(var t=E(e),r=t.length,n=Array(r),s=0;s<r;s++)n[s]=[t[s],e[t[s]]];return n}function tn(e){for(var t={},r=E(e),n=0,s=r.length;n<s;n++)t[e[r[n]]]=r[n];return t}function he(e){var t=[];for(var r in e)x(e[r])&&t.push(r);return t.sort()}function xe(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||r==null)return r;for(var s=1;s<n;s++)for(var o=arguments[s],i=e(o),a=i.length,l=0;l<a;l++){var u=i[l];(!t||r[u]===void 0)&&(r[u]=o[u])}return r}}var en=xe(vt),zt=xe(E),rn=xe(vt,!0);function yo(){return function(){}}function nn(e){if(!J(e))return{};if(Sr)return Sr(e);var t=yo();t.prototype=e;var r=new t;return t.prototype=null,r}function bo(e,t){var r=nn(e);return t&&zt(r,t),r}function vo(e){return J(e)?$(e)?e.slice():en({},e):e}function wo(e,t){return t(e),e}function sn(e){return $(e)?e:[e]}b.toPath=sn;function wt(e){return b.toPath(e)}function Fe(e,t){for(var r=t.length,n=0;n<r;n++){if(e==null)return;e=e[t[n]]}return r?e:void 0}function on(e,t,r){var n=Fe(e,wt(t));return Br(n)?r:n}function Eo(e,t){t=wt(t);for(var r=t.length,n=0;n<r;n++){var s=t[n];if(!z(e,s))return!1;e=e[s]}return!!r}function Ce(e){return e}function gt(e){return e=zt({},e),function(t){return Xr(t,e)}}function Te(e){return e=wt(e),function(t){return Fe(t,e)}}function Et(e,t,r){if(t===void 0)return e;switch(r??3){case 1:return function(n){return e.call(t,n)};case 3:return function(n,s,o){return e.call(t,n,s,o)};case 4:return function(n,s,o,i){return e.call(t,n,s,o,i)}}return function(){return e.apply(t,arguments)}}function an(e,t,r){return e==null?Ce:x(e)?Et(e,t,r):J(e)&&!$(e)?gt(e):Te(e)}function Re(e,t){return an(e,t,1/0)}b.iteratee=Re;function T(e,t,r){return b.iteratee!==Re?b.iteratee(e,t):an(e,t,r)}function Ao(e,t,r){t=T(t,r);for(var n=E(e),s=n.length,o={},i=0;i<s;i++){var a=n[i];o[a]=t(e[a],a,e)}return o}function un(){}function So(e){return e==null?un:function(t){return on(e,t)}}function Oo(e,t,r){var n=Array(Math.max(0,e));t=Et(t,r,1);for(var s=0;s<e;s++)n[s]=t(s);return n}function me(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}var yt=Date.now||function(){return new Date().getTime()};function ln(e){var t=function(o){return e[o]},r="(?:"+E(e).join("|")+")",n=RegExp(r),s=RegExp(r,"g");return function(o){return o=o==null?"":""+o,n.test(o)?o.replace(s,t):o}}var cn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Do=ln(cn),xo=tn(cn),Fo=ln(xo),Co=b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},le=/(.)^/,To={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ro=/\\|'|\r|\n|\u2028|\u2029/g;function Io(e){return"\\"+To[e]}var No=/^\s*(\w|\$)+\s*$/;function Po(e,t,r){!t&&r&&(t=r),t=rn({},t,b.templateSettings);var n=RegExp([(t.escape||le).source,(t.interpolate||le).source,(t.evaluate||le).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(n,function(u,f,d,v,g){return o+=e.slice(s,g).replace(Ro,Io),s=g+u.length,f?o+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:d?o+=`'+
((__t=(`+d+`))==null?'':__t)+
'`:v&&(o+=`';
`+v+`
__p+='`),u}),o+=`';
`;var i=t.variable;if(i){if(!No.test(i))throw new Error("variable is not a bare identifier: "+i)}else o=`with(obj||{}){
`+o+`}
`,i="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var a;try{a=new Function(i,"_",o)}catch(u){throw u.source=o,u}var l=function(u){return a.call(this,u,b)};return l.source="function("+i+`){
`+o+"}",l}function Lo(e,t,r){t=wt(t);var n=t.length;if(!n)return x(r)?r.call(e):r;for(var s=0;s<n;s++){var o=e?.[t[s]];o===void 0&&(o=r,s=n),e=x(o)?o.call(e):o}return e}var Bo=0;function _o(e){var t=++Bo+"";return e?e+t:t}function qo(e){var t=b(e);return t._chain=!0,t}function fn(e,t,r,n,s){if(!(n instanceof t))return e.apply(r,s);var o=nn(e.prototype),i=e.apply(o,s);return J(i)?i:o}var nt=F(function(e,t){var r=nt.placeholder,n=function(){for(var s=0,o=t.length,i=Array(o),a=0;a<o;a++)i[a]=t[a]===r?arguments[s++]:t[a];for(;s<arguments.length;)i.push(arguments[s++]);return fn(e,n,this,this,i)};return n});nt.placeholder=b;var dn=F(function(e,t,r){if(!x(e))throw new TypeError("Bind must be called on a function");var n=F(function(s){return fn(e,n,t,this,r.concat(s))});return n}),R=Jr(C);function K(e,t,r,n){if(n=n||[],!t&&t!==0)t=1/0;else if(t<=0)return n.concat(e);for(var s=n.length,o=0,i=C(e);o<i;o++){var a=e[o];if(R(a)&&($(a)||Ae(a)))if(t>1)K(a,t-1,r,n),s=n.length;else for(var l=0,u=a.length;l<u;)n[s++]=a[l++];else r||(n[s++]=a)}return n}var Uo=F(function(e,t){t=K(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=dn(e[n],e)}return e});function Mo(e,t){var r=function(n){var s=r.cache,o=""+(t?t.apply(this,arguments):n);return z(s,o)||(s[o]=e.apply(this,arguments)),s[o]};return r.cache={},r}var pn=F(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),ko=nt(pn,b,1);function Vo(e,t,r){var n,s,o,i,a=0;r||(r={});var l=function(){a=r.leading===!1?0:yt(),n=null,i=e.apply(s,o),n||(s=o=null)},u=function(){var f=yt();!a&&r.leading===!1&&(a=f);var d=t-(f-a);return s=this,o=arguments,d<=0||d>t?(n&&(clearTimeout(n),n=null),a=f,i=e.apply(s,o),n||(s=o=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,d)),i};return u.cancel=function(){clearTimeout(n),a=0,n=s=o=null},u}function zo(e,t,r){var n,s,o,i,a,l=function(){var f=yt()-s;t>f?n=setTimeout(l,t-f):(n=null,r||(i=e.apply(a,o)),n||(o=a=null))},u=F(function(f){return a=this,o=f,s=yt(),n||(n=setTimeout(l,t),r&&(i=e.apply(a,o))),i});return u.cancel=function(){clearTimeout(n),n=o=a=null},u}function Ho(e,t){return nt(t,e)}function Ie(e){return function(){return!e.apply(this,arguments)}}function Wo(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function Jo(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function hn(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}var $o=nt(hn,2);function mn(e,t,r){t=T(t,r);for(var n=E(e),s,o=0,i=n.length;o<i;o++)if(s=n[o],t(e[s],s,e))return s}function gn(e){return function(t,r,n){r=T(r,n);for(var s=C(t),o=e>0?0:s-1;o>=0&&o<s;o+=e)if(r(t[o],o,t))return o;return-1}}var Ne=gn(1),yn=gn(-1);function bn(e,t,r,n){r=T(r,n,1);for(var s=r(t),o=0,i=C(e);o<i;){var a=Math.floor((o+i)/2);r(e[a])<s?o=a+1:i=a}return o}function vn(e,t,r){return function(n,s,o){var i=0,a=C(n);if(typeof o=="number")e>0?i=o>=0?o:Math.max(o+a,i):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return o=r(n,s),n[o]===s?o:-1;if(s!==s)return o=t(bt.call(n,i,a),Hr),o>=0?o+i:-1;for(o=e>0?i:a-1;o>=0&&o<a;o+=e)if(n[o]===s)return o;return-1}}var wn=vn(1,Ne,bn),Ko=vn(-1,yn);function ge(e,t,r){var n=R(e)?Ne:mn,s=n(e,t,r);if(s!==void 0&&s!==-1)return e[s]}function Qo(e,t){return ge(e,gt(t))}function q(e,t,r){t=Et(t,r);var n,s;if(R(e))for(n=0,s=e.length;n<s;n++)t(e[n],n,e);else{var o=E(e);for(n=0,s=o.length;n<s;n++)t(e[o[n]],o[n],e)}return e}function W(e,t,r){t=T(t,r);for(var n=!R(e)&&E(e),s=(n||e).length,o=Array(s),i=0;i<s;i++){var a=n?n[i]:i;o[i]=t(e[a],a,e)}return o}function En(e){var t=function(r,n,s,o){var i=!R(r)&&E(r),a=(i||r).length,l=e>0?0:a-1;for(o||(s=r[i?i[l]:l],l+=e);l>=0&&l<a;l+=e){var u=i?i[l]:l;s=n(s,r[u],u,r)}return s};return function(r,n,s,o){var i=arguments.length>=3;return t(r,Et(n,o,4),s,i)}}var ce=En(1),Cr=En(-1);function et(e,t,r){var n=[];return t=T(t,r),q(e,function(s,o,i){t(s,o,i)&&n.push(s)}),n}function Xo(e,t,r){return et(e,Ie(T(t)),r)}function Tr(e,t,r){t=T(t,r);for(var n=!R(e)&&E(e),s=(n||e).length,o=0;o<s;o++){var i=n?n[o]:o;if(!t(e[i],i,e))return!1}return!0}function Rr(e,t,r){t=T(t,r);for(var n=!R(e)&&E(e),s=(n||e).length,o=0;o<s;o++){var i=n?n[o]:o;if(t(e[i],i,e))return!0}return!1}function _(e,t,r,n){return R(e)||(e=rt(e)),(typeof r!="number"||n)&&(r=0),wn(e,t,r)>=0}var Go=F(function(e,t,r){var n,s;return x(t)?s=t:(t=wt(t),n=t.slice(0,-1),t=t[t.length-1]),W(e,function(o){var i=s;if(!i){if(n&&n.length&&(o=Fe(o,n)),o==null)return;i=o[t]}return i==null?i:i.apply(o,r)})});function Pe(e,t){return W(e,Te(t))}function Yo(e,t){return et(e,gt(t))}function An(e,t,r){var n=-1/0,s=-1/0,o,i;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=R(e)?e:rt(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o>n&&(n=o)}else t=T(t,r),q(e,function(u,f,d){i=t(u,f,d),(i>s||i===-1/0&&n===-1/0)&&(n=u,s=i)});return n}function Zo(e,t,r){var n=1/0,s=1/0,o,i;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=R(e)?e:rt(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o<n&&(n=o)}else t=T(t,r),q(e,function(u,f,d){i=t(u,f,d),(i<s||i===1/0&&n===1/0)&&(n=u,s=i)});return n}var jo=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Sn(e){return e?$(e)?bt.call(e):we(e)?e.match(jo):R(e)?W(e,Ce):rt(e):[]}function On(e,t,r){if(t==null||r)return R(e)||(e=rt(e)),e[me(e.length-1)];var n=Sn(e),s=C(n);t=Math.max(Math.min(t,s),0);for(var o=s-1,i=0;i<t;i++){var a=me(i,o),l=n[i];n[i]=n[a],n[a]=l}return n.slice(0,t)}function ti(e){return On(e,1/0)}function ei(e,t,r){var n=0;return t=T(t,r),Pe(W(e,function(s,o,i){return{value:s,index:n++,criteria:t(s,o,i)}}).sort(function(s,o){var i=s.criteria,a=o.criteria;if(i!==a){if(i>a||i===void 0)return 1;if(i<a||a===void 0)return-1}return s.index-o.index}),"value")}function Wt(e,t){return function(r,n,s){var o=t?[[],[]]:{};return n=T(n,s),q(r,function(i,a){var l=n(i,a,r);e(o,i,l)}),o}}var ri=Wt(function(e,t,r){z(e,r)?e[r].push(t):e[r]=[t]}),ni=Wt(function(e,t,r){e[r]=t}),si=Wt(function(e,t,r){z(e,r)?e[r]++:e[r]=1}),oi=Wt(function(e,t,r){e[r?0:1].push(t)},!0);function ii(e){return e==null?0:R(e)?e.length:E(e).length}function ai(e,t,r){return t in r}var Dn=F(function(e,t){var r={},n=t[0];if(e==null)return r;x(n)?(t.length>1&&(n=Et(n,t[1])),t=vt(e)):(n=ai,t=K(t,!1,!1),e=Object(e));for(var s=0,o=t.length;s<o;s++){var i=t[s],a=e[i];n(a,i,e)&&(r[i]=a)}return r}),ui=F(function(e,t){var r=t[0],n;return x(r)?(r=Ie(r),t.length>1&&(n=t[1])):(t=W(K(t,!1,!1),String),r=function(s,o){return!_(t,o)}),Dn(e,r,n)});function xn(e,t,r){return bt.call(e,0,Math.max(0,e.length-(t==null||r?1:t)))}function fe(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[0]:xn(e,e.length-t)}function Mt(e,t,r){return bt.call(e,t==null||r?1:t)}function li(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[e.length-1]:Mt(e,Math.max(0,e.length-t))}function ci(e){return et(e,Boolean)}function fi(e,t){return K(e,t,!1)}var Fn=F(function(e,t){return t=K(t,!0,!0),et(e,function(r){return!_(t,r)})}),di=F(function(e,t){return Fn(e,t)});function ye(e,t,r,n){_r(t)||(n=r,r=t,t=!1),r!=null&&(r=T(r,n));for(var s=[],o=[],i=0,a=C(e);i<a;i++){var l=e[i],u=r?r(l,i,e):l;t&&!r?((!i||o!==u)&&s.push(l),o=u):r?_(o,u)||(o.push(u),s.push(l)):_(s,l)||s.push(l)}return s}var pi=F(function(e){return ye(K(e,!0,!0))});function hi(e){for(var t=[],r=arguments.length,n=0,s=C(e);n<s;n++){var o=e[n];if(!_(t,o)){var i;for(i=1;i<r&&_(arguments[i],o);i++);i===r&&t.push(o)}}return t}function be(e){for(var t=e&&An(e,C).length||0,r=Array(t),n=0;n<t;n++)r[n]=Pe(e,n);return r}var mi=F(be);function gi(e,t){for(var r={},n=0,s=C(e);n<s;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function yi(e,t,r){t==null&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),s=Array(n),o=0;o<n;o++,e+=r)s[o]=e;return s}function bi(e,t){if(t==null||t<1)return[];for(var r=[],n=0,s=e.length;n<s;)r.push(bt.call(e,n,n+=t));return r}function Le(e,t){return e._chain?b(t).chain():t}function Cn(e){return q(he(e),function(t){var r=b[t]=e[t];b.prototype[t]=function(){var n=[this._wrapped];return Vs.apply(n,arguments),Le(this,r.apply(b,n))}}),b}q(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=Ht[e];b.prototype[e]=function(){var r=this._wrapped;return r!=null&&(t.apply(r,arguments),(e==="shift"||e==="splice")&&r.length===0&&delete r[0]),Le(this,r)}});q(["concat","join","slice"],function(e){var t=Ht[e];b.prototype[e]=function(){var r=this._wrapped;return r!=null&&(r=t.apply(r,arguments)),Le(this,r)}});var vi={__proto__:null,VERSION:Nr,restArguments:F,isObject:J,isNull:Qs,isUndefined:Br,isBoolean:_r,isElement:Xs,isString:we,isNumber:qr,isDate:Gs,isRegExp:Ys,isError:Zs,isSymbol:Ur,isArrayBuffer:Mr,isDataView:kt,isArray:$,isFunction:x,isArguments:Ae,isFinite:ro,isNaN:Hr,isTypedArray:Kr,isEmpty:ao,isMatch:Xr,isEqual:uo,isMap:fo,isWeakMap:po,isSet:ho,isWeakSet:mo,keys:E,allKeys:vt,values:rt,pairs:go,invert:tn,functions:he,methods:he,extend:en,extendOwn:zt,assign:zt,defaults:rn,create:bo,clone:vo,tap:wo,get:on,has:Eo,mapObject:Ao,identity:Ce,constant:Wr,noop:un,toPath:sn,property:Te,propertyOf:So,matcher:gt,matches:gt,times:Oo,random:me,now:yt,escape:Do,unescape:Fo,templateSettings:Co,template:Po,result:Lo,uniqueId:_o,chain:qo,iteratee:Re,partial:nt,bind:dn,bindAll:Uo,memoize:Mo,delay:pn,defer:ko,throttle:Vo,debounce:zo,wrap:Ho,negate:Ie,compose:Wo,after:Jo,before:hn,once:$o,findKey:mn,findIndex:Ne,findLastIndex:yn,sortedIndex:bn,indexOf:wn,lastIndexOf:Ko,find:ge,detect:ge,findWhere:Qo,each:q,forEach:q,map:W,collect:W,reduce:ce,foldl:ce,inject:ce,reduceRight:Cr,foldr:Cr,filter:et,select:et,reject:Xo,every:Tr,all:Tr,some:Rr,any:Rr,contains:_,includes:_,include:_,invoke:Go,pluck:Pe,where:Yo,max:An,min:Zo,shuffle:ti,sample:On,sortBy:ei,groupBy:ri,indexBy:ni,countBy:si,partition:oi,toArray:Sn,size:ii,pick:Dn,omit:ui,first:fe,head:fe,take:fe,initial:xn,last:li,rest:Mt,tail:Mt,drop:Mt,compact:ci,flatten:fi,without:di,uniq:ye,unique:ye,union:pi,intersection:hi,difference:Fn,unzip:be,transpose:be,zip:mi,object:gi,range:yi,chunk:bi,mixin:Cn,default:b},Ir=Cn(vi);Ir._=Ir;function Tn(e){let t=e.split("-");for(let r=0;r<t.length;r++){let n=t[r];t[r]=n.charAt(0).toUpperCase()+n.slice(1)}return t.join(" ")}function Rn(e){return e.replace(/\W+/g," ").split(" ").join("-").toLowerCase()}var Be=class{db;subscribers={};lastTable="";lastTablePk;constructor(t,r){this.db=new st(t,r)}subscribe(t,r){this.subscribers[t]=r}update(t,r,n){let s=this.db.update(t,r,n);return this.lastTable=t,this.lastTablePk=s,s}insert(t,r){return this.db.insert(t,r)}queryAll(t,r){return this.db.queryAll(t,r)}getRow(t,r){return this.db.queryAll(t,{ID:r})[0]}commit(){let t=this.db.commit();if(this.lastTable!==""&&typeof this.subscribers[this.lastTable]=="function"){let r=this.getRow(this.lastTable,this.lastTablePk);this.subscribers[this.lastTable](r),this.lastTable="",this.lastTablePk=-1}return t}getStoreDB(){return this.db}isNew(t){return this.db.isNew(t)}createTable(t,r){return this.db.createTable(t,r)}tableExists(t){return this.db.tableExists(t)}},p=class{static db(){return typeof p.__db__>"u"&&(p.__db__=new Be("learning","local")),p.__db__}static init(){let t=p.db();t.isNew(r=>{if(r){let n={course:["title","slug","duration","sourceCodeRepository","description","authorIds"],author:["name","slug","biography","shortBiography","courseIds"],exerciseFile:["courseId","name","url","size"],section:["courseId","slug","title"],toc:["sectionId","title","slug","url","duration","captionUrl","captionFmt","streamLocationIds"],streamLocation:["tocId","fmt","url"],downloadConfig:["courseId","fmtList","selectedFmtList"],downloads:["tocId","courseId","downloadId","filename","url","status"],downloadState:["courseId","state","total","success","fails"],app:["version","state","lastCourseSlug","nav"]};Object.keys(n).forEach(s=>{t.tableExists(s)||t.createTable(s,n[s])}),t.commit()}})}static getExerciseFile(t){let n=p.db().queryAll("exerciseFile",{query:{courseId:t}});return n.length>0?n[0]:null}static getCourse(t){let n=p.db().queryAll("course",{query:{slug:t}});return n.length>0?n[0]:null}static getLastCourses(t){let r=p.db();return typeof t>"u"&&(t=p.getAppState().lastCourseSlug),r.queryAll("course",{query:s=>{if(s.slug!==t)return!0}})}static getCourseById(t){let n=p.db().queryAll("course",{query:{ID:t}});return n.length>0?n[0]:null}static getSection(t,r){let s=p.db().queryAll("section",{query:{slug:t,courseId:r}});return s.length>0?s[0]:null}static getSectionsByCourseId(t){return p.db().queryAll("section",{query:{courseId:t}})}static getTocsBySectionId(t){return p.db().queryAll("toc",{query:{sectionId:t}})}static getToc(t,r){let s=p.db().queryAll("toc",{query:{slug:t,sectionId:r}});return s.length>0?s[0]:null}static getAuthor(t){let n=p.db().queryAll("author",{query:{slug:t}});return n.length>0?n[0]:null}static getAuthorById(t){let n=p.db().queryAll("author",{query:{ID:t}});return n.length>0?n[0]:null}static getDownloadConfig(t){let n=p.db().queryAll("downloadConfig",{query:{courseId:t}});return n.length>0?n[0]:null}static createAuthor(t,r,n,s,o){let i=p.db(),a=p.getAuthor(r);if(a){let l=a.courseIds;l.includes(o)||(l.push(o),i.update("author",{slug:r},u=>(u.courseIds=l,u)),setTimeout(()=>{i.commit()},100),a.courseIds=l)}else{let l=[];typeof o=="number"&&l.push(o),a={ID:0,name:t,slug:r,biography:n,shortBiography:s,courseIds:l},a.ID=i.insert("author",a),setTimeout(()=>{i.commit()},100)}return a}static createAuthorList(t,r){let n=p.db(),s=p.getCourse(t),o=[];if(s){let i=s.authorIds;r.map(a=>{let l=Tn(a.slug),u=p.createAuthor(l,a.slug,a.biography,a.shortBiography,s.ID);i.includes(u.ID)||i.push(u.ID),o.push(u)}),n.update("course",{slug:t},a=>(a.authorIds=i,a)),n.commit()}return o}static updateTocCaption(t,r,n,s){let o=p.db();p.getToc(t,s)&&(o.update("toc",{slug:t},function(a){return a.captionUrl=r,a.captionFmt=n,a}),o.commit())}static getStreamLocation(t,r){let s=p.db().queryAll("streamLocation",{query:{tocId:t,fmt:r}});return s.length>0?s[0]:null}static getStreamLocations(t){return p.db().queryAll("streamLocation",{query:{tocId:t}})}static createStreamLocation(t,r,n){let s=p.db(),o=p.getStreamLocation(t,r);return o?(o.url=n,s.update("streamLocation",i=>(i.url=n,i))):(o={ID:0,tocId:t,fmt:r,url:n},o.ID=s.insert("streamLocation",o)),setTimeout(()=>s.commit(),100),o}static updateDownloadConfig(t,r,n){let s=p.db(),o=p.getDownloadConfig(n);return o?s.update("downloadConfig",{courseId:n},i=>(i[t]=r,i)):(o={ID:0,courseId:n,fmtList:[],selectedFmtList:""},o[t]=r,o.ID=s.insert("downloadConfig",o)),setTimeout(()=>s.commit(),100),o}static createStreamLocationList(t,r,n,s){let o=p.db(),i=p.getToc(t,r),a=[],l=[];if(i){let u=i.streamLocationIds;n.map(f=>{l.includes(f.fmt)||l.push(f.fmt);let d=p.createStreamLocation(i.ID,f.fmt,f.url);u.includes(d.ID)||u.push(d.ID),a.push(d)}),o.update("toc",{slug:t},f=>(f.streamLocationIds=u,f)),o.commit(),s&&p.updateDownloadConfig("fmtList",l,s)}return a}static createExerciseFile(t,r,n,s){let o=p.db(),i=p.getExerciseFile(t);return i||(i={ID:0,courseId:t,name:r,url:n,size:s},i.ID=o.insert("exerciseFile",i),o.commit()),i}static createSection(t,r){let n=p.db(),s=Rn(r),o=p.getSection(s,t);return o||(o={ID:0,courseId:t,title:r,slug:s},o.ID=n.insert("section",o),n.commit()),o}static createToc(t,r,n,s,o,i,a){let l=p.db(),u=p.getToc(n,t);return u||(u={ID:0,sectionId:t,title:r,slug:n,url:s,duration:o,captionUrl:i,captionFmt:a,streamLocationIds:[]},u.ID=l.insert("toc",u),l.commit()),u}static createCourse(t,r,n,s,o){let i=p.db(),a=p.getCourse(r);return a||(a={ID:0,title:t,slug:r,duration:n,sourceCodeRepository:s,description:o,authorIds:[]},a.ID=i.insert("course",a),i.commit()),a}static getCourseJson(t){vr.get("/data/course.json",r=>{typeof t=="function"&&t(r)})}static getDataCodesLS(t){setTimeout(()=>{chrome.storage.sync.get(["dataCodes"],r=>{t(JSON.parse(r.dataCodes))})},1e3)}static saveDataCodes(t){let r=t.course,n=r.authors,s=p.createCourse(r.title,r.slug,r.duration,r.sourceCodeRepository,r.description);return t.sections.map(i=>{let a=p.createSection(s.ID,i.title);i.items.map(l=>{l.url=`https://www.linkedin.com/learning/${s.slug}/${l.slug}`;let u=p.createToc(a.ID,l.title,l.slug,l.url,l.duration)})}),p.createAuthorList(s.slug,n),p.setAppState(1,s.slug),s}static prepareAppStorage(){p.init(),setTimeout(()=>{p.initApp("")},1250)}static initApp(t){let r=p.db(),n="1.0",s=r.queryAll("app",{query:{version:n}}),o=null;return s.length===0?(o={ID:0,state:0,version:n,lastCourseSlug:t,nav:"welcome"},o.ID=r.insert("app",o),r.commit()):(o=s[0],o.lastCourseSlug!==t&&t!==""&&(o.lastCourseSlug=t,r.update("app",{version:n},i=>(i.lastCourseSlug=t,i)),r.commit())),o}static getAppState(){let t=p.db(),r="1.0",n=t.queryAll("app",{query:{version:r}}),s=null;return n.length>0&&(s=n[0]),s}static setAppState(t,r){let n=p.db(),s="1.0";n.queryAll("app",{query:{version:s}}).length>0&&(n.update("app",{version:s},i=>(i.state=t,typeof r<"u"&&(i.lastCourseSlug=r),i)),n.commit())}static setAppNav(t){let r=p.db(),n="1.0";r.queryAll("app",{query:{version:n}}).length>0&&(r.update("app",{version:n},o=>(o.nav=t,o)),r.commit())}static getAppInfo(){let t=p.db(),r="1.0",n=t.queryAll("app",{query:{version:r}});return n.length>0?n[0]:null}static getDownloadState(t){let r=p.db(),n=null,s=r.queryAll("downloadState",{query:{courseId:t}});return s.length>0?n=s[0]:(n={ID:0,courseId:t,state:0},n.ID=r.insert("downloadState",n),r.commit()),n}static setDownloadState(t,r){let n=p.db(),s=null,o=n.queryAll("downloadState",{query:{courseId:t}});return o.length>0?(s=o[0],n.update("downloadState",{courseId:t},i=>(i.state=r,i)),n.commit(),s.state=r):(s={ID:0,courseId:t,state:r},s.ID=n.insert("downloadState",s),n.commit()),s}static getDownloads(t,r){return p.db().queryAll("downloads",{query:{tocId:t,courseId:r}})}static getDownloadById(t){let n=p.db().queryAll("downloads",{query:{ID:t}});return n.length>0?n[0]:null}static createDownload(t,r,n,s){let o=p.db(),i=p.getDownload(n,r);return i||(i={ID:0,tocId:n,courseId:s,downloadId:0,filename:r,url:t,status:!1},i.ID=o.insert("downloads",i)),i}static updateDownload(t,r){let n=p.db(),s=p.getDownloadById(t);return s&&n.update("downloads",{ID:t},o=>{for(let i in r)o[i]=r[i],s[i]=r[i];return o}),s}static getDownload(t,r){let n=p.db(),s=null,o=n.queryAll("downloads",{query:{tocId:t,filename:r}});return o.length>0&&(s=o[0]),s}static getDownloadByCourseId(t){return p.db().queryAll("downloads",{query:{courseId:t}})}},At=p;_e(At,"__db__");At.prepareAppStorage();var A=At;A.prepareAppStorage();var St="development";St==="production"&&chrome.action.disable();function Nn(e){let t=e.split("?")[0].split("/").filter(n=>n),r=!1;return t.length>=4&&t[2]==="learning"&&(r=!0),r}function Pn(){chrome.cookies.getAll({domain:"linkedin.com"},function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(t){try{let r=t[0];chrome.tabs.sendMessage(r.id,{event:"sendCoookie",cookie:e},n=>{})}catch{}})})}chrome.tabs.onUpdated.addListener((e,t,r)=>{t.status=="complete"&&(Nn(r.url)?(St==="production"&&chrome.action.enable(e),chrome.tabs.sendMessage(r.id,{event:"onTabUpdated",url:r.url},n=>{}),Pn()):St==="production"&&chrome.action.disable(e))});chrome.webNavigation.onHistoryStateUpdated.addListener(function(e){Nn(e.url)?(St==="production"&&chrome.action.enable(e.tabId),chrome.tabs.sendMessage(e.tabId,{event:"onHistoryStateUpdated",url:e.url},t=>{}),Pn()):St==="production"&&chrome.action.disable(e.tabId)});var U=[],Dt=0,xt=[],I=null,In=!1,Ot=!1;function wi(e){A.db().getStoreDB().sync(()=>{U=[],Dt=0,xt=[],I=null;let t=A.getAppState(),r=A.getCourse(t.lastCourseSlug),n=A.getDownloadState(r.ID),s=A.getDownloadConfig(r.ID),o=A.getSectionsByCourseId(r.ID),i=s.selectedFmtList,a=[];o.forEach(l=>{A.getTocsBySectionId(l.ID).forEach(f=>{let d=A.getStreamLocations(f.ID).filter(g=>g.fmt==i),v;if(d.length>0){v=d[0];let g=v.url,h=f.captionUrl,m={url:g,filename:`${f.slug}-${i}.mp4`,tocId:f.ID,courseId:r.ID},N={url:h,filename:`${f.slug}-${i}.vtt`,tocId:f.ID,courseId:r.ID};a.push(m),a.push(N)}})});for(let l in a){let u=a[l],f=A.getDownload(u.tocId,u.filename);f?(console.log("updateDownload"),f.url=u.url,f.filename=u.filename,f=A.updateDownload(f.ID,f)):(console.log("createDownload"),f=A.createDownload(u.url,u.filename,u.tocId,u.courseId)),U.push(f)}A.db().commit(),typeof e=="function"&&e(U)})}function Ln(){Bn()}function Bn(){if(U.length>0)if(I=U.shift(),I.status!==!0)Si();else{let e="download_state";chrome.runtime.sendMessage({cmd:e,skip:!0,currentDownload:I},r=>{}),Bn();return}else Dt=0,U=[],xt=[],I=null,Ot=!1,A.db().getStoreDB().truncate("downloads"),A.db().commit()}function Ei(){let e=xt.length,r=Math.ceil(e/Dt*100);console.log(r)}function Ai(e){e?(xt.push(I),A.updateDownload(I.ID,{status:e}),A.db().commit(),Ei(),Ln()):U.push(I)}function Si(){In||(chrome.downloads.onCreated.addListener(t=>{console.log(t)}),chrome.downloads.onErased.addListener(t=>{console.log(t)}),chrome.downloads.onChanged.addListener(t=>{if(console.log(t),typeof t.state=="object"&&t.state.current=="complete"){let r="download_state";chrome.runtime.sendMessage({cmd:r,success:!0,delta:t,currentDownload:I},s=>{}),Ai(!0)}typeof t.error=="object"&&Oi(t)}),In=!0);let e={filename:I.filename,url:I.url};chrome.downloads.download(e,t=>{console.log(t)})}function Oi(e){let t="download_state";chrome.runtime.sendMessage({cmd:t,delta:e,success:!1,currentDownload:I},n=>{}),Ot=!1,Dt=0,U=[],xt=[],I=null,Ot=!1}chrome.runtime.onMessage.addListener((e,t,r)=>{if(e.cmd=="start_download"){if(Ot){console.log("queue is running:skipped");return}console.log(e),U.length==0&&wi(n=>{Dt=n.length,Ot=!0,Ln()})}});})();
//# sourceMappingURL=background.js.map
