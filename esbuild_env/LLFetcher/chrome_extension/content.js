"use strict";(()=>{function i(){let t=window.location.pathname.split("/").filter(r=>r),a=location.search.substring(1),e=JSON.parse('{"'+a.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(r,o){return r===""?o:decodeURIComponent(o)});return{pathArray:t,queryStringObject:e}}function c(){let a=i().pathArray,e=!1;return a.length>=2&&a[0]==="learning"&&a[1]!=="topics"&&a[1]!=="search"&&(e=!0),e}function u(){let t=i(),a=t.pathArray,e=t.queryStringObject,r=!1;typeof e.autoplay<"u"&&e.autoplay=="true"&&(e.autoplay="false",r=!0),typeof e.resume<"u"?e.resume=="true"&&(e.resume="false",r=!0):(e.resume="false",r=!0);let o=`/${a[0]}/${a[1]}`,n=0;for(let l in e)n==0?o+="?":o+="&",o+=`${l}=${e[l]}`,n+=1;r&&(window.location.href=o)}chrome.runtime.onMessage.addListener(function(t,a){if(console.log(t),typeof t.event<"u")if(t.event=="onHistoryStateUpdated"||t.event=="onTabUpdated")c()&&(localStorage.activeUrl=t.url,chrome.storage.sync.set({activeUrl:t.url}),u());else if(t.event=="sendCoookie"){let e=JSON.stringify(t.cookie);localStorage.activeCookie=e,chrome.storage.sync.set({activeCookie:e})}else if(t.event=="SaveDataCodesToLS"){let e=document.getElementById("dataCodes");if(e!==null){let r=e.getAttribute("data");localStorage.dataCodes=r,chrome.storage.sync.set({dataCodes:r})}chrome.runtime.sendMessage({cmd:"retrieve_data_codes",dataCodes:dataStr})}else t.event=="ContentConsoleLog"&&console.log("Popup.log:",t.param)});})();
//# sourceMappingURL=content.js.map
